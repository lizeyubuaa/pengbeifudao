# eval函数

将字符串str当成==有效的表达式==来求值并返回计算结果。所以，结合==math==当成一个计算器很好用。

## 常见作用： 

1、计算字符串中==有效的表达式==，并返回结果

eval('pow(2,2)')

eval("n + 4")

2、将==字符串转成相应的对象==（如list、tuple、dict和string之间的转换）

```
a = "[[1,2], [3,4], [5,6], [7,8], [9,0]]"
b = eval(a)
b

a = "{1:'xx',2:'yy'}"
c = eval(a)
c

a = "(1,2,3,4)"
d = eval(a)
d
```

## 注意：

一定要确保第一个参数expression满足表达式的要求，它是==可以被解析然后计算的==。

## 案例：

```
s="abck"
print(eval(s))
执行的结果为：NameError: name 'abck' is not defined
```


​        对于当面的代码，我们可以看到，字符串s并不满足表达式的要求。当eval==剥去==了"abck"的外面的引号的时候，它会对它进行解析，然后满足要求后进行计算，然后它解析到的是abcd，请注意，程序报出的错误是NameError，也就是说，==当它解析到这个表达式是不可以计算后，它就会查找它是不是一个变量的名字，如果是一个变量的名字，那么它会输出这个变量的内容，否则就会产生这种报错。==

```
s="abck"
print(eval('s')) 
执行的结果为：abck
```

​        对于这个代码，我们就可以看出来了，eval首先将‘s’的引号剥去，然后得到的是s，显然这个是不可以进行计算的，那么它就开始查找s是否是一个变量的名字，然后它一查找，果然s是一个字符串，所以程序输出了s中的内容。

## expression的要求

```
s='"sas"'
print(eval(s))
执行的结果为：sas
```

​       对于这个代码，我们继续分析，eval首先去除单引号，eval在执行的时候是只会去除同种类型的引号的，对于==单引号和双引号它是加以区分==的。eval去除单引号后得到了“sas”，这个时候程序解析到它是一个字符串，不可以计算，就输出了它。

​		那么不禁想问，为什么上个例子中s="abck"会不行呢，这里面我们就可以看出区别了，一个是有引号括起来的，一个是没有的，引号括起来代表==字符串，虽然不可以求值，但是是有意义的，可以进行输出==，而==没引号的便无法判断“身份”了==，只能当做变量名进行解析，而abck并不是一个变量名，所以就报错了。

```
a=10
b=20
c=30
s='[a,b,c]'
print(eval(s))
执行的结果为：[10, 20, 30]
```


​		这里需要说明的是，eval检查到列表的‘[’‘]’符号时，是==会对里面的元素进行解析的==，这里a、b、c显然不是具体的数据，便去查找它们是否是变量名，然后确认是变量名后，用它们的内容替换掉它。