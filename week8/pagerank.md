# PageRank算法

## 1. PageRank算法概述

​         PageRank,即**网页排名**，又称**网页级别**、**Google左侧排名**或**佩奇排名。**

​        是Google创始人拉里·佩奇和谢尔盖·布林于1997年构建早期的搜索系统原型时提出的==链接分析算法==，自从Google在商业上获得空前的成功后，该算法也成为其他搜索引擎和学术界十分关注的计算模型。目前很多重要的链接分析算法都是在PageRank算法基础上衍生出来的。PageRank是Google用于用来标识网页的等级/重要性的一种方法，==是Google用来衡量一个网站的好坏的唯一标准==。在揉合了诸如Title标识和Keywords标识等所有其它因素之后，Google通过PageRank来调整结果，使那些更具“等级/重要性”的网页在搜索结果中另网站排名获得提升，从而提高搜索结果的相关性和质量。其级别从0到10级，10级为满分。PR值越高说明该网页越受欢迎（越重要）。例如：一个PR值为1的网站表明这个网站不太具有流行度，而PR值为7到10则表明这个网站非常受欢迎（或者说极其重要）。一般PR值达到4，就算是一个不错的网站了。Google把自己的网站的PR值定到10，这说明Google这个网站是非常受欢迎的，也可以说这个网站非常重要。

## 2. 从入链数量到 PageRank

​        在PageRank提出之前，已经有研究者提出利用网页的==入链数量==来进行链接分析计算，这种入链方法假设一个网页的入链越多，则该网页越重要。早期的很多搜索引擎也采纳了入链数量作为链接分析方法，对于搜索引擎效果提升也有较明显的效果。 PageRank除了考虑到入链数量的影响，还参考了==网页质量==因素，两者相结合获得了更好的网页重要性评价标准。
对于某个互联网网页A来说，该网页PageRank的计算基于以下==两个基本假设==：
     数量假设：在Web图模型中，如果一个页面节点接收到的==其他网页指向的入链数量==越多，那么这个页面越重要。
     质量假设：指向页面A的入链质量不同，==质量高的页面会通过链接向其他页面传递更多的权重==。所以越是质量高的页面指向页面A，则页面A越重要。
​       利用以上两个假设，PageRank算法刚开始赋予每个网页相同的重要性得分，通过==迭代递归==计算来更新每个页面节点的PageRank得分，直到得分稳定为止。 PageRank计算得出的结果是网页的重要性评价，这==和用户输入的查询==是没有任何关系的，即==算法是主题无关==的。假设有一个搜索引擎，其相似度计算函数不考虑==内容相似因素==，完全采用PageRank来进行排序，那么这个搜索引擎的表现是什么样子的呢？这个搜索引擎对于任意不同的查询请求，返回的结果都是相同的，即返回PageRank值最高的页面。

## 3. PageRank算法原理

​      PageRank的计算充分利用了两个假设：==数量假设和质量假设==。步骤如下：            **1）在初始阶段：**网页通过链接关系构建起==Web图==，每个页面设置相同的PageRank值，通过若干轮的计算，会得到每个页面所获得的最终PageRank值。随着每一轮的计算进行，网页当前的PageRank值会不断得到更新。
**2）在一轮中更新页面PageRank得分的计算方法：**在一轮更新页面PageRank得分的计算中，每个页面将其当前的PageRank值==平均分配到本页面包含的出链上==，这样每个链接即获得了相应的权值。而每个页面将所有指向本页面的入链所传入的权值求和，即可得到新的PageRank得分。当每个页面都获得了更新后的PageRank值，就完成了一轮PageRank计算。 

**3.2 基本思想：**

​		如果网页T存在一个指向网页A的连接，则表明T的所有者认为A比较重要，从而把T的一部分重要性得分赋予A。这个重要性得分值为：PR（T）/L(T)，其中PR（T）为T的PageRank值，L(T)为T的出链数，则A的PageRank值为一系列类似于T的页面重要性得分值的累加。
​		一个页面的PageRank是由所有链向它的页面（链入页面）的重要性经过[递归](http://zh.wikipedia.org/wiki/递归)算法得到的。一个有较多链入的页面会有较高的等级，相反如果一个页面没有任何链入页面，那么它没有等级。

**3.3 PageRank简单计算：**

​       假设一个由只有4个页面组成的集合：A，B，C和D。如果所有页面都链向A，那么A的PR（PageRank）值将是B，C及D的和。

​       ![img](https://img-my.csdn.net/uploads/201209/20/1348120060_7086.png)

​       继续假设B也有链接到C，并且D也有链接到包括A的3个页面。一个页面不能投票2次。所以B给每个页面半票。以同样的逻辑，D投出的票只有三分之一算到了A的PageRank上。

​       ![img](https://img-my.csdn.net/uploads/201209/20/1348120099_6078.png)

​      换句话说，根据链出总数平分一个页面的PR值。

​       ![img](https://img-my.csdn.net/uploads/201209/20/1348120123_5802.png)

**例子：**

​        如**图1** 所示的例子来说明PageRank的具体计算过程。  

​       ![img](https://img-my.csdn.net/uploads/201209/20/1348125472_5651.jpg)                    

**3.4  修正PageRank计算公式：**

​         由于存在一些出链为0，也就是那些不链接任何其他网页的网， 也称为==孤立网页==，使得很多网页能被访问到。因此需要对 PageRank公式进行修正，即在简单公式的基础上增加了**==阻尼系数（damping factor）==**q， q一般取值q===0.85==。

​      其意义是，在任意时刻，==用户到达某页面后并继续向后浏览的概率==。 1- q= 0.15就是==用户停止点击，随机跳到新URL的概率==）的算法被用到了所有页面上，估算页面可能被上网者放入书签的概率。

​      最后，即所有这些被换算为一个百分比再乘上一个系数q。由于下面的算法，==没有页面的PageRank会是0==。所以，Google通过数学系统给了每个页面一个最小值。

​      ![img](https://img-my.csdn.net/uploads/201209/20/1348120862_4424.png)

​     这个公式就是.S Brin 和 L. Page 在《The Anatomy of a Large- scale Hypertextual Web Search Engine Computer Networks and ISDN Systems 》定义的公式。

​     所以一个页面的PageRank是由其他页面的PageRank计算得到。Google不断的重复计算每个页面的PageRank。如果给每个页面一个随机PageRank值（非0），那么经过不断的重复计算，这些页面的PR值会趋向于正常和稳定。这就是搜索引擎使用它的原因。

## 4. PageRank算法优缺点

优点：

​        ==是一个与查询无关的静态算法==，所有网页的PageRank值通过离线计算获得；有效减少==在线查询时的计算量==，极大==降低了查询响应时间==。

缺点：

​       1）人们的查询具有主题特征，PageRank忽略了主题相关性，导致结果的[相关性](http://baike.baidu.com/view/1326213.htm)和主题性降低

​        2）旧的页面等级会比新页面高。因为即使是非常好的新页面也不会有很多上游链接，除非它是某个站点的子站点。